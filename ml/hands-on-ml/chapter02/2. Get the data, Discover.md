# 데이터 다운로드 및 테스트셋 분리 실습

이 노트북은 《핸즈온 머신러닝》 2판의 Chapter 2 내용을 따라가며 아래 단계를 실습한 내용입니다:

## ✅ 주요 작업

1. **작업환경 설정**
   - 가상환경 생성 및 필수 패키지 설치 (`jupyter`, `pandas`, `matplotlib`, `scikit-learn` 등)

2. **데이터 다운로드 및 준비**
   - `housing.tgz` 압축 파일을 URL에서 다운로드
   - `housing.csv` 파일로 압축 해제 및 로딩
   - `pandas`를 이용해 데이터프레임 구조 확인 (`head()`, `info()`, `describe()`)

3. **데이터 탐색**
   - 카테고리 필드 확인 (`ocean_proximity`)
   - 각 필드의 히스토그램 시각화 (`housing.hist()`)

4. **테스트셋 분리**
   - 무작위 샘플링 (`train_test_split`)
   - 해시 기반 샘플링 (ID 고정)
   - **소득 수준(`median_income`) 기반 stratified sampling** 구현

5. **Stratified Sampling 적용**
   - `income_cat` 필드를 기반으로 계층적 분할 수행
   - 분포 확인 → 무작위 샘플보다 대표성이 높음
   - 사용 후 `income_cat` 필드 제거
  


# 데이터 탐색 및 시각화 실습

1. **훈련 세트 복사**
   - `strat_train_set`을 복사하여 탐색용 `housing` 데이터프레임 생성

2. **지리적 데이터 시각화**
   - 위도(`latitude`)와 경도(`longitude`) 산점도 생성
   - `alpha` 값을 활용해 밀도 시각화
   - 인구(`population`)를 원 크기로, 주택 가격(`median_house_value`)을 색상으로 표현

3. **상관관계 분석**
   - 수치형 특성 간 상관계수(`.corr()`) 계산
   - `median_house_value`와 가장 관련 깊은 특성 탐색

4. **산점도 행렬 (scatter matrix)**
   - 주요 특성들 간의 시각적 관계 분석 (`median_income`, `total_rooms` 등)

5. **소득과 주택 가격의 관계 분석**
   - `median_income`과 `median_house_value` 산점도
   - 가격 상한선($500,000) 등의 데이터 이상치 확인

6. **파생 특성 생성**
   - `rooms_per_household`, `bedrooms_per_room`, `population_per_household` 등 새 특성 생성
   - 새 특성들과 주택 가격 간 상관계수 확인

## 도출된 인사이트

- `median_income`이 주택 가격과 가장 높은 상관관계를 가짐
- `bedrooms_per_room`은 음의 상관관계가 뚜렷하여 예측에 유용
- 파생 특성이 기존 특성보다 예측력 향상 가능성 있음
- 데이터 상한선으로 인한 왜곡(500,000 이상 가격)이 존재함

## 사용된 기술

- Python 3.10+
- Pandas, Numpy, Matplotlib
- Scikit-learn

## 📁 참고
- [책 GitHub 저장소](https://github.com/ageron/handson-ml)
