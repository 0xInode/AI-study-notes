🔹 Look at the Big Picture
 - 캘리포니아 인구조사 데이터를 활용해 지역별 중간 주택 가격을 예측하는 모델을 구축하기
 - 이 데이터에는 캘리포니아 각 블록 그룹의 인구, 중위 소득, 중위 주택 가격과 같은 지표 포함
 - 블록 그룹은 미국 인구조사국에서 샘플 데이터를 발표하는 가장 작은 지리적 단위(district)
 - 모델은 이 데이터를 통해 학습하고 다른 모든 지표를 고려하여 모든 구역의 중위 주택 가격을 예측할 수 있어야 함
 - 가장 먼저 할 일: 부록 B에 있는 머신러닝 프로젝트 체크리스트 작성하기

🔹 Frame the Problem
 - 가장 먼저 물어봐야 할 질문: "정확히 사업 목표는 무엇인가?"
 - 목표를 알면 문제를 어떻게 정의할지, 어떤 알고리즘을 선택할지, 모델을 평가하는 데 어떤 성과와 지표를 사용할지, 모델을 수정하는 데 얼마나 많은 노력을 기울일지 결정하기 때문
 - 다음으로 물어볼 질문: 현재 솔루션이 어떤 모습인지(있는 경우)
 - 현재 지역 주택 가격은 전문가가 수동으로 추정하지만, 정확도는 낮고 비용은 높음으로 자동화 모델이 요구됨
 - 이 문제는 라벨(label)이 주어진 지도 학습이며, 값 예측이므로 회귀(regression) 문제임
 - 더 구체적으로, 이 문제는 시스템이 여러 특성(해당 지역의 인구, 소득 중간값 등)을 사용하여 예측 수행 -> 다중 회귀(multivariate regression)
 - 데이터는 작고 고정되어 있으므로 배치 학습(batch learning)으로 처리함
 - 데이터가 매우 큰 경우, MapReduce 기법을 사용하여 배치 학습 작업을 여러 서버에 분산하거나 온라인 학습 기법 사용 가능

※ 파이프라인
 - 데이터 처리 구성 요소의 시퀀스
 - 구성 요소는 일반적으로 비동기적으로 실행되며, 각 구성 요소는 대량의 데이터를 가져와 처리한 후 다른 데이터 저장소에 결과 출력
 - 그런 다음, 파이프라인의 다음 구성요소가 이 데이터를 가져가 자체적인 출력 생성
 - 각 구성 요소는 독립적, 구성 요소 간의 인터페이스는 단순히 데이터 저장소임 -> 데이터 플로 그래프를 통해 시스템 파악 가능, 여러 팀이 각 구성 요소에 집중 가능, 한 구성 요소에 장애 발생하더라도 하위 구성 요소는 손상된 구성 요소의 마지막 출력만 사용하여 정상 실행 가능
 - 적절한 모니터링이 구현되지 않으면 손상된 구성 요소가 눈에 띄지 않을 수 있음
 - 데이터가 오래되어 전체 시스템 성능 저하 가능

🔹 Select a Performance Measure 성능 측정 기준 선택
 - 회귀 문제에서는 일반적으로 RMSE(Root Mean Square Error, 평균 제곱근 오차)를 성능 지표로 사용함으로 예측 오류의 표준편차를 측정함
 - RMSE는 시스템이 에측에서 일반적으로 얼마나 많은 오차를 발생시키는지 보여 주는 지표, 오차가 클수록 가중치 높아짐
 -  $\text{RMSE}(X, h) = \sqrt{\frac{1}{m}\sum_{i=1}^{m}\left(h(x^{(i)}) - y^{(i)}\right)^2}$
 -  m은 RMSE를 측정하는 데이터셋의 인스턴스 수
 -  예: 2,000개 구역의 검증 세트에 대한 RMSE를 평가하는 경우 m=2,000
 -  x(i)는 데이터셋에서 i 번째 인스턴스의 모든 특성 값(레이블 제외)의 벡터
 -  y(i)는 해당 인스턴스의 레이블(해당 인스턴스에 대한 원하는 출력 값)
 -  예: 데이터셋의 첫 번째 구역이 경도 -118.29°, 위도 33.91°에 위치하고 주민이 1,416명이며 중위 소득이 $38,372이고 주택 가격 중위가 $156,400인 경우(다른 특성은 현재 무시)
 -  ![matrix](https://latex.codecogs.com/svg.image?x^{(1)}=\begin{pmatrix}-118.29\\33.91\\1,416\\38,372\end{pmatrix})
 -  $y^{(1)} = 156,400$
 -  X는 데이터셋의 모든 인스턴스의 모든 특성 값(레이블 제외)을 포함하는 행렬
 -  인스턴스당 한 행이 있으며, i 번째 행은 x(i)의 전치행렬과 같고, $(\mathbf{x}^{(i)})^\top$로 나타냄
 -  h는 시스템의 예측 함수로, 가설이라고도 함
 -  시스템에 인스턴스의 특징 벡터 x(i)가 주어지면 해당 인스턴스에 대한 예측 값 ŷ(i) = h(x(i))를 출력
 -  예: 시스템이 첫 번째 구역의 중간 주택 가격이 $158,400이라고 예측하는 경우 ŷ(1) = h(x(1)) = 158,400
 -  이 구역의 예측 오차는 ŷ(1) – y(1) = 2,000
 -  RMSE(X,h)는 가설 h를 사용하여 예제 집합에서 측정한 비용 함수

 - 일반적인 회귀 분석에서는 RMSE가 성능 측정 기준으로 선호되지만,
 - 이상치 지역이 많을 경우 평균 절대 오차(MAE, 평균 절대 편차라고도 함) 사용 가능
 - $\text{MAE}(\mathbf{X}, h) = \frac{1}{m}\sum_{i=1}^{m}\left|h(\mathbf{x}^{(i)}) - y^{(i)}\right|$

 - RMSE와 MAE는 두 벡터, 즉 예측 벡터와 목표 값 벡터 사이의 거리를 측정하는 방법임 -> 다양한 거리 측정값 또는 노름(norm)가능
 - 제곱합의 제곱근(RMSE)을 계산하는 것은 유클리드 노름에 해당(거리 개념) -> ℓ2 노름(Euclidean norm)
 - 절대값의 합(MAE)을 계산하는 것은 ℓ1 노름(Manhattan norm) 기반으로 이상치에 덜 민감함
 - 더 일반적으로, n개의 요소를 포함하는 벡터 v의 l k norm은 $\|v\|_k = \left(|v_0|^k + |v_1|^k + \dots + |v_n|^k\right)^{1/k}$
으로 정의됨
 - ℓ 0은 벡터에서 0이 아닌 요소의 개수를 나타내고, ℓ ∞은 벡터에서 최대 절댓값을 나타냄
 - 노름 지수(norm index)가 높을수록 큰 값에 더 집중하고, 작은 값은 무시함 -> RMSE가 MAE보다 이상치에 더 민감한 이유
 - 이상치가 기하급수적으로 드물게 나타나는 경우(종 모양 곡선) RMSE가 매우 우수한 성능이며, 일반적으로 선호됨

 
🔹 Check the Assumptions
 - 지금까지 내린 가정을 나열하고 검증 -> 심각한 문제를 조기 포착
 - 예: 예측값이 실제 가격으로 쓰일 것이라 가정하지만, 만약 다운스트림 시스템이 이를 “저가/중가/고가”로 분류해 쓴다면
 - 시스템은 가격을 정확히 설정하는 것은 중요해지지 않고, 범주만 정확히 설정하면 됨
 - 그럼 문제는 회귀가 아닌 분류로 재정의되어야 함
 - 하지만 팀과의 확인을 통해 실제 가격이 필요한 것이 맞음을 확신!

